# upstream f5gc-webui.udf-demo.org {
#     server f5gc-webui.udf-demo.org:31002;
# }

server {
  listen      40010 default_server;
  server_name f5gc-webui.udf-demo.org;
  ssl_verify_client off;

  access_log  /var/log/nginx/f5gc-webui-2.access.log;
  error_log   /var/log/nginx/f5gc-webui-2.error.log;  

  location / {
    proxy_pass       https://10.1.1.6:31002;
    proxy_set_header Host $host;
    proxy_set_header Referer $host;
    proxy_set_header X-Forwarded-For $remote_addr;
  }
}

upstream f5gc-webui.udf-demo.org {
  server 127.0.0.1:40010;
}

server {
    server_name     f5gc-webui.udf-demo.org;
    listen  30010   ssl;

    access_log  /var/log/nginx/f5gc-webui-1.access.log;
    error_log   /var/log/nginx/f5gc-webui-1.error.log;

    ssl_certificate         /etc/ssl/nginx/cert.pem;
    ssl_certificate_key     /etc/ssl/nginx/key.pem;

    location / {
        proxy_pass http://f5gc-webui.udf-demo.org;
        proxy_set_header X-Forwarded-For $remote_addr;
    }
}
